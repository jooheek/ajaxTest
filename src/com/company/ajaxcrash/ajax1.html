<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Ajax 1- Text File</title>
</head>
<body>
<button id="button">Get Text File</button>
<br><br>
<div id="text"></div>
<script>
    document.getElementById('button').addEventListener('click',loadText);
    function loadText(){
        //create XHR Object
        var xhr = new XMLHttpRequest();
        //open- type,url/file,async
        xhr.open('GET','sample2.txt',true);

        console.log('readystate : ',xhr.readyState);

        //optional - used for loaders
        xhr.onprogress = function(){
            console.log('readystate : ',xhr.readyState);
        }

        xhr.onload = function(){
            console.log('readystate : ',xhr.readyState)
            if(this.status == 200){
               // console.log(this.responseText);
                document.getElementById('text').innerHTML=
                    this.responseText;
            }else if(this.status = 404){
                document.getElementById('text').innerHTML=
                    'Not Found';
            }
        }
        //개발자 도구>network>headers- url, requestmethod:get,status,content-type //response


        xhr.onerror= function(){
            console.log('Request Error...');
        }

        /*xhr.onreadystatechange = function(){
            console.log('readystate : ',xhr.readyState)
            if(this.readyState == 4 && this.status ==200){
                console.log(this.responseText);
            }
        }*/
        //readyState Value
        //0: request not initialized
        //1: server connection established
        //2: request received
        //3: processing request
        //4: request finished and response is ready

        //sends request
        xhr.send();



    }

</script>
</body>
</html>